<!doctype html>
<html lang="ja">
  <head>
    <meta charset="UTF-8"/>
    <title>pjax test</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.pjax/1.9.6/jquery.pjax.min.js"></script>
  </head>
  <body>
    <p>
      <a href="https://github.com/defunkt/jquery-pjax" target="_blank">@see pjax github</a>
    </p>
    <code><pre>
        .--.
       /    \
      ## a  a
      (   '._)
       |'-- |
     _.\___/_   ___pjax___
   ."\> \Y/|<'.  '._.-'
  /  \ \_\/ /  '-' /
  | --'\_/|/ |   _/
  |___.-' |  |`'`
    |     |  |
    |    / './
   /__./` | |
      \   | |
       \  | |
       ;  | |
       /  | |
 jgs  |___\_.\_
      `-"--'---'
    </pre></code>

    <img src="pjax.jpg" alt="pjax test img" width="600">

    <div id="pjax-container">
      <h1>pjax test top</h1>
      Go to <a href="next.html">next page</a>.
    </div>

    <script>
        $(function(){
          bind_pjax();
          $(document).on('pjax:success', function() {
            bind_pjax();
          });
        });

        function bind_pjax()
        {
          $('a').on('click', function(e) {
            $.pjax.click(e, {
              link: 'a:not([target])',
              container: '#pjax-container',
              fragment: '#pjax-container',
              ajax: { timeout: 2500 },
            });
          });
        }
    </script>
  </body>
</html>
